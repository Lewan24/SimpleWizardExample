@using SimpleWizard.Data.Entities

@inject WizardService _wizard
@inject NavigationManager _nav

<h3 class="text-center">Dziękujemy za wypełnienie formularza.</h3>

<div class="d-flex flex-row justify-content-center">
    <button class="btn btn-primary mt-2" @onclick="ReturnToMainPage">Wróć do strony głównej</button>
</div>

@code {
    protected override void OnInitialized()
    {
        _wizard.ShowWizardStepsInConsole();
        _wizard.InsertFormToDb();
        _wizard.EndWizard();

        base.OnInitialized();
    }

    private void ReturnToMainPage() => _nav.NavigateTo("/", false);
}